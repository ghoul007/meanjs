const request = require('supertest');
const express = require('express');
var tap = require("tap");
const app = express();

tap.test("List Resources", function(assert) {
    // it("list_resource", done => {
    request("http://localhost:3000")
        .post('/list_resource')
        .send({ resource: "movies" })
        .expect(200)
        .expect("Content-Type", /json/)
        .end(function(res) {

            debugger;
            var expectedThings = [{
                    name: "test1",
                    description: "description",
                    id: "k6yFkxv"
                },
                {
                    name: "test1",
                    description: "description",
                    id: "SYO7WPl"
                }
            ];
            var actualThings = res.body;
            console.log(res);
            // done();
            assert.error(err, "No error");
            assert.same(actualThings, expectedThings, "Retrieve list of things");
            assert.end();
        })
        // });
});